<apex:page controller="LookupPopupController" sidebar="false" standardStylesheets="false" showheader="false">   

    <style type="text/css">

        //COLORS, FONTS, AND BORDERS
        .sp-blue {
            color: #0076be !important;
        }
        .sunpower-style {
            font-family: "Open Sans", sans-serif;
        }
        .sunpower-style .tabs__content-container {
            border-bottom: 1px solid #e5e5e5;
        }
        .checkImg{
            width:21px !important;
        }
        //SPACING
        .top1 {
            margin-top: 1rem;
        }
        .top2 {
            margin-top: 2rem;
        }
        .center-row {
            margin-left: auto;
            margin-right: auto;
        }
        
        //ADD-INS
        
        .subtab-styling__content-container{
            border-bottom:1px solid #e5e5e5 !important; 
        }
        .sp-orange-divider{
            border-bottom: .1rem solid !important;
            border-color: #ffdfb8 !important;
            margin-top: 1.5rem !important;
            margin-bottom: 1.5rem !important;
            margin-left: auto;
            margin-right: auto;
        }
        
        
        .sunpower-style select{
            border: 1px solid #5d5e60  !important;
            border-top-left-radius: 2px;
            border-top-right-radius: 2px;
            color:#5d5e60 !important;
            background-color:white !important;
        }
        
        .sunpower-style select:disabled{
            border: 1px solid #e5e5e5 !important;
            border-top-left-radius: 2px;
            border-top-right-radius: 2px;
            color:#e5e5e5 !important;
            background-color:white !important;
        }
        
        .sunpower-style h5{
            color:#5d5e60;
        }
        
        .labelStyle{
                //font-family:sans-serif;
                font-size: 0.9rem;
                font-weight: bold;
                color:#535353;
                //text-align:right;
                margin-top:10px;
         }
        .circle
        {
            width:35px;
            height:35px;
            border-radius:18px;
            font-size:1.2rem;
            color:#9b9b9b;
            line-height:30px;
            text-align:center;
            //background:#000;
            margin-left:auto;
            margin-right:auto;
            border:3px solid #e5e5e5;
        }
        
        //SIZING
        @media all and (max-width: 1200px) {
            .sunpower-style {
                margin-left: auto !important; 
                margin-right: auto !important;
                padding-left: 2rem !important;
                padding-right: 2rem !important;
            }
        }

        @media all and (max-width: 1024px) {
            /* styles for narrow desktop browsers and iPad landscape */
            .sunpower-style {
                margin-left: auto !important; 
                margin-right: auto !important;
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
        }

        @media all and (max-width: 768px) {
            /* styles for narrower desktop browsers and iPad portrait */
            .sunpower-style {
                padding-left: 2rem !important;
                padding-right: 2rem !important;
                margin-left: none;
                margin-right: none;
            }
        }

        @media all and (max-width: 480px) {
            /* styles for iPhone/Android landscape (and really narrow browser windows) */
            .sunpower-style {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
                margin-left: none;
                margin-right: none;
            }
        }
    </style>
    
    <script>
        function toggleSubtabs(tabActive) {

            if( !($( '#'+tabActive ).hasClass( "subtab-styling__header-item--active" ))) {
                //remove old main subtab actives                
                $(document).find('.subtab-styling__header-item').each(function(index, header) {
                    $(header).removeClass('subtab-styling__header-item--active');
                });
                //add new subtab active
                $( '#'+tabActive ).addClass( "subtab-styling__header-item--active" );

                //remove old subtab content actives
                $(document).find('.subtab-styling__content-item').each(function(index, content) {
                    var $content = $(content);
                    $content.removeClass('subtab-styling__content-item--active');
                });

                //add new subtab content active
                $( '#'+tabActive+'Content' ).addClass( "subtab-styling__content-item--active" ) ;
            }
        }
    
   window.onload = new function() 
   { 
      // bring popup window to front
      window.focus(); 
      var ele=document.getElementById('{!$Component.form.block.section.query}');
      if (ele)
      {
         ele.focus();
      }
   }
   
   function fillIn(name, id)
   {
      console.log(name + '===' + id);
      var winMain=window.opener;
      console.log(winMain);
      if (null==winMain)
      {
         winMain=window.parent.opener;
      }
      var ele=winMain.document.getElementById('{!$CurrentPage.parameters.namefield}');
      ele.value=name;
      ele=winMain.document.getElementById('{!$CurrentPage.parameters.idfield}');
      ele.value=id;
      CloseWindow();
   }

   function CloseWindow()
   {
      var winMain=window.opener;
      if (null==winMain)
      {
         winMain=window.parent.opener;
      }
      winMain.closeLookupPopup();
   }
</script>
    
    <apex:stylesheet value="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
    <c:SPCommunityAppResources_CSS namespaceOnly="true"/>
    <apex:stylesheet value="{!$Resource.HelixRequestCustomStyles}" />
    <!--<apex:outputLabel rendered="{!IsPartner}">
        <c:CommunitiesMainNavComponent activeTab="Accounts" />
    </apex:outputLabel>-->
    
    <body class="sunpower-style container-fluid" style="margin: 1rem; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem;">
        <div id="inner-container" style="max-width: 1000px; margin-right: auto; margin-left: auto;">
            <apex:form >
            <apex:actionFunction name="searchText" action="{!runQuery}" reRender="lookupTable"/>
            
            <div class="row">
                <div class="col-xs-12" style="text-align: left;">
                    <h3>{!ObjectName} Lookup</h3>    
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4 col-xs-8">
                    <apex:inputText style="height: 40px;width: 90%;border-radius: 5px;border: 0px;background-color: #F5F5F5;padding-right:2px;padding-left:10px;" html-placeholder="Search Text" value="{!query}" id="query"/> 
                </div>
                <div class="col-md-1 col-xs-1">
                    <a class="btn btn-primary btn--small" id="gobotton" onclick="searchText()" >Go</a>
                </div>    
            
            </div> 
            <!--<div class="row top2">
            <div class="col-md-12 col-xs-12">
            <apex:outputText>{!FieldName}</apex:outputText>
            <apex:repeat value="{!sObj}" var="sOb">
            <div class="row top2">
                <div class="col-md-12 col-xs-12">
                    <apex:outputLink value="#" >{!sOb['Name']}</apex:outputLink> 
                </div>
            </div>
            </apex:repeat>
            </div>-->
            <apex:outputPanel id="lookupTable">
            <div class="row" style="margin-top:10px;">
                <div class="col-xs-12" style="text-align: left;">
                    <h5>{!messageString}</h5>    
                </div>
            </div>
            <div class="row" style="margin-top:10px;">
            
                <table class="table " style="font-size:.75rem;" id="tableId">
                    <thead>
                        <th>{!FieldName}</th>
                    </thead>
                    <tbody>
                        <apex:repeat value="{!sObj}" var="sOb">
                            <tr>
                                <td><a onClick="fillIn('{!sOb['Name']}','{!sOb['Id']}')">{!sOb['Name']}</a></td>
                                
                            </tr>
                        </apex:repeat>
                    </tbody>
                </table>
                
            </div>
            </apex:outputPanel>
            <!--<apex:pageBlock >
          <apex:pageBlockSection columns="1">
              <apex:pageBlockTable value="{!sObj}" var="sOb">
                <apex:column headerValue="{!FieldName}">
                  <apex:outputLink value="#" >{!sOb['Name']}</apex:outputLink>       
                </apex:column>
                
              </apex:pageBlockTable>    
          </apex:pageBlockSection>
        </apex:pageBlock>
           </div> -->
            
            </apex:form>
        </div>
    </body>
    <script>
     
    </script>
    <c:SPCommunityAppResources_JS />
    <!--<apex:includeScript value="{!$Resource.StyleguideExpansion_JS}" />   -->

</apex:page>