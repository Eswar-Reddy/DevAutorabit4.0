<apex:page standardController="Contact" showHeader="false" sidebar="false" extensions="creditCheckPageCtrl" id="ccPage" standardStylesheets="false" >
    <apex:includeScript value="{!$Resource.Jquey}"/>
    <apex:stylesheet value="{!URLFOR($Resource.NSBootstrap, '/NSBootstrap.css')}"/>
    <apex:form id="ccBlock"  styleClass="top">
        
        <div class="bs">
            <div class="container container-fluid">
                
                <div class="form-group">
                    <label for="ContactName">Contact Name</label> &nbsp;&nbsp;
                    <apex:outputField value="{!contact.LastName }" styleClass="form-control"/>
                </div>
                <div class="form-group" width="100%">
                    <label for="ContactAccount">Account</label> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <apex:outputField value="{!contact.AccountId}" styleClass="form-control"/>
                </div>
                
                <apex:outputPanel id="pgMsgs" >
                    <apex:pageMessages />
                </apex:outputPanel>
                
                <apex:outputPanel rendered="{!isPrimary}">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h5>Please Select the Credit Check Type for Customer</h5>
                    </div>
                    
                    <apex:dataTable var="creditCheckRow" value="{!creditCheckRows}" styleClass="table table-hover " cellpadding="10px" id="ccTable">
                        <apex:column width="30%">
                            <apex:outputText value="{!creditCheckRow.creditCheckName}"/>
                        </apex:column>
                        <apex:column width="10%" >
                            <apex:inputCheckbox id="inputChkbx" value="{!creditCheckRow.selected}" disabled="{!creditCheckRow.disabled}" onclick="toggleButtons('ccBlock')"/>
                        </apex:column>
                        <apex:column width="20%" headerValue="Action" >
                            <apex:outputText value="{!creditCheckRow.Action}"/>
                        </apex:column>
                        <apex:column width="40%" headerValue="Status" >
                            <apex:outputText value="{!creditCheckRow.Status}"/>
                        </apex:column>
                    </apex:dataTable>
                    
                </div><!--end panel-->
                
                <div class="form-group">
                    <apex:outputLabel styleClass="" style="font-size:110%;color:red;" >Note: Completing applications for multiple financial products will result in multiple credit inquiries concerning your credit history.</apex:outputLabel>
                </div>
                </apex:outputPanel>
            </div><!--end container-->
        
        
        <apex:outputPanel rendered="{!isPrimary}">
            <center>
                <apex:commandButton value="Submit" id="submitButton" action="{!submitCreditCheck}" styleClass="btn disabled" reRender="ccBlock,pgMsgs" onClick="this.disabled=true;"/> &nbsp;
                <apex:commandButton value="Back" id="doneButton" onclick="goBack();" styleClass="btn btn-primary"/>
            </center>
        </apex:outputPanel>
        
        </div>
        <!--<apex:outputLink value="/{!Contact.Id}" id="theContactLink">Link to Contact</apex:outputLink>-->
        
    </apex:form>
    
    <script>
        
        
        function toggleButtons(formname) {
            //var $j = jQuery.noConflict();
            var btnEnable=false;
                $('input[type=checkbox]').each(function (){
                   if(this.checked){
                       btnEnable=true;
                       
                   }
                   if(btnEnable==true){
                       document.getElementById("{!$Component.ccPage.ccBlock.submitButton}").className = "btn btn-primary";
                   }
                   else{
                       document.getElementById("{!$Component.ccPage.ccBlock.submitButton}").className = "btn disabled";
          
                   }
                 });      
        }
        
        function goBack() {
           window.history.back();
        }
    </script>
    
</apex:page>