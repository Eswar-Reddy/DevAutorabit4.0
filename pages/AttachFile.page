<apex:page Controller="AttachFileController" showHeader="false" sidebar="false">
    <apex:sectionHeader title="Attach File" />
    <script> 
          function closeWindow() {
                var done = "{!closePopup}";
                if(done.toString() == "true") {
                    self.parent.opener.reloadList();
                    self.parent.close();
                 }   
            }
            function closePopUp(){
               self.parent.close();
            }
           closeWindow();
    </script> 
    <apex:form >
        <apex:pageBlock title="">
            <apex:pageBlockSection columns="1">
                <apex:outputLabel value="1. Select the File." />
                <apex:inputFile style="width:280px" value="{!attach.body}" filename="{!attach.name}"/>   
            </apex:pageBlockSection>
            <apex:pageBlockSection columns="1">
                <apex:outputLabel value="2. Click the Attach File button." />
                <apex:outputPanel layout="block">
	                 <apex:commandButton value="Attach" action="{!attachFile}" />&nbsp;&nbsp;<apex:commandButton value="Cancel" onclick="closePopUp();" />
	            </apex:outputPanel>     
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>