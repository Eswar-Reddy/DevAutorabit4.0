<apex:page controller="PurchaseOrderDeltaController">
    <c:SPCommunityAppResources_CSS namespaceOnly="true"/>
    <style type="text/css">
        .sunpower-style {
          font-size: 16px;
          -ms-overflow-style: scrollbar;
          -webkit-tap-highlight-color: transparent;
        }
        .sunpower-style {
          font-size: 1rem;
          font-family: "Open Sans", sans-serif;
          line-height: 1.5;
          color: #1a1919;
          background-color: #fff;
          -webkit-font-smoothing: antialiased;
        }
        .sunpower-style .container-fluid {
          margin-right: auto;
          margin-left: auto;
          padding-right: 2em;
          padding-left: 2em;
          width: auto;
          max-width: none;
        }
        .sunpower-style .table {
          width: 100%;
          max-width: 100%;
          margin-bottom: 1rem;
          background-color: transparent;
        }
        .sunpower-style .table tbody tr:nth-of-type(odd) {
          background-color: #f5f5f5;
        }
        .sunpower-style .table tbody tr:hover {
          background-color: #effaff;
        }
        .sunpower-style .table th,
        .sunpower-style .table td {
          padding: .75rem;
          vertical-align: top;
        }
        .sunpower-style .table thead {
          border: 1px solid #e5e5e5;
        }
        .sunpower-style .table thead th {
          vertical-align: bottom;
        }
        .sunpower-style .table tbody + tbody {
          border-top: 2px solid #000;
        }
        .sunpower-style .table-responsive {
          display: block;
          width: 100%;
          min-height: .01%;
          overflow-x: auto;
        }
    </style>
    <apex:outputPanel styleClass="sunpower-style container-fluid" style="max-width: 1250px;">
        <body>
            <div class="row" style="margin-right: auto; margin-left: auto; padding-right: 2em; padding-left: 2em;">
                <div class="col-xs-12">
                    &nbsp;<apex:messages />
                </div>
            </div>
            <div class="row" style="margin-right: auto; margin-left: auto; padding-right: 2em; padding-left: 2em;">
                <div class="col-xs-12">
                    <h1 class="sunpower-style">Purchase Order Comparison <font color="red">BETA</font></h1>
                    <hr/>
                    <p class="sunpower-style" style="margin-top: 1em">You can use this internal (beta) tool to compare any two purchase orders side-by-side. Just provide the two purchase order Ids in the URL and press Enter.</p>
                    <p class="sunpower-style" style="margin-top: 1em"><strong><font color="red">IMPORTANT</font></strong>: This is a beta tool for internal use only. Please <strong>expect issues</strong> with performance and accuracy. Please <strong>do not</strong> share with external users.</p>
                </div>
            </div>
            <div class="row" style="margin-top: 1em; margin-right: auto; margin-left: auto; padding-right: 2em; padding-left: 2em;">
                <div class="col-xs-12 sunpower-style">
                    <apex:repeat value="{!objectChangesMap}" var="lbl">
                        <div class="row" style="margin-bottom: .5em;">
                            <div class="col-xs-12">
                                <h4 class="sunpower-style">General Changes</h4>
                            </div>
                        </div>
                        <table class="sunpower-style table">
                            <thead class="sunpower-style table thead">
                                <td class="sunpower-style table td" style="width: 60%; font-weight: bold;">Field</td>
                                <td class="sunpower-style table td" style="width: 20%; font-weight: bold;">New Value</td>
                                <td class="sunpower-style table td" style="width: 20%; font-weight: bold;">Old Value</td>
                            </thead>
                            <tbody class="sunpower-style table tbody">
                                <apex:repeat value="{!objectChangesMap[lbl]}" var="cd">
                                    <tr class="sunpower-style table tbody tr">
                                        <td class="sunpower-style table td" style="width: 60%">{!cd.fieldLabel}</td>
                                        <td class="sunpower-style table td" style="width: 20%">{!cd.newValue}</td>
                                        <td class="sunpower-style table td" style="width: 20%">{!cd.oldValue}</td>
                                    </tr>
                                </apex:repeat>
                            </tbody>
                        </table>
                    </apex:repeat>
                    <apex:repeat value="{!lineChangesMap}" var="lbl">
                        <div class="row" style="margin-bottom: .5em;">
                            <div class="col-xs-12">
                                <h4 class="sunpower-style">{!lbl}&nbsp;Changes</h4>
                            </div>
                        </div>
                        <table class="sunpower-style table">
                            <thead class="sunpower-style table thead">
                                <td class="sunpower-style table td" style="width: 60%; font-weight: bold;">Field</td>
                                <td class="sunpower-style table td" style="width: 20%; font-weight: bold;">New Value</td>
                                <td class="sunpower-style table td" style="width: 20%; font-weight: bold;">Old Value</td>
                            </thead>
                            <tbody class="sunpower-style table tbody">
                                <apex:repeat value="{!lineChangesMap[lbl]}" var="cd">
                                    <tr class="sunpower-style table tbody tr">
                                        <td class="sunpower-style table td" style="width: 60%">{!cd.fieldLabel}</td>
                                        <td class="sunpower-style table td" style="width: 20%">{!cd.newValue}</td>
                                        <td class="sunpower-style table td" style="width: 20%">{!cd.oldValue}</td>
                                    </tr>
                                </apex:repeat>
                            </tbody>
                        </table>
                    </apex:repeat>
                </div>
            </div>
        </body>
        <footer class="sunpower-style container-fluid" style="max-width: 1250px;">
            <div class="row" style="margin-top: 1em; margin-right: auto; margin-left: auto; padding-right: 2em; padding-left: 2em;">
                <div class="col-xs-12">
                    <p>If you have questions or concerns about this BETA utility, please contact Joseph Pagano.</p>
                </div>
            </div>
        </footer>
    </apex:outputPanel>
    <!-- Keep at bottom of page -->
    <c:SPCommunityAppResources_JS />
</apex:page>